:root {
    font-family: 'Inter', system-ui, Avenir, Helvetica, Arial, sans-serif;
    line-height: 1.5;
    font-weight: 400;

    font-synthesis: none;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;

    /* ========================================
       DESIGN TOKENS - 设计令牌系统
       ======================================== */

    /* Font Families */
    --font-serif: 'Playfair Display', serif;
    --font-sans: 'Inter', sans-serif;
    
    /* ----------------------------------------
       COLOR TOKENS - 亮色主题（默认）
       ---------------------------------------- */
    
    /* 背景色 */
    --color-bg: #ffffff;
    --color-bg-subtle: #fafafa;
    --color-bg-alt: #f5f5f5;
    --color-bg-elevated: #ffffff;
    --color-bg-inverse: #111111;
    
    /* 表面色（卡片、面板等） */
    --color-surface: #ffffff;
    --color-surface-hover: #fafafa;
    --color-surface-active: #f5f5f5;
    
    /* 文字色 */
    --color-text-main: #111111;
    --color-text-secondary: #444444;
    --color-text-muted: #666666;
    --color-text-light: #999999;
    --color-text-inverse: #ffffff;
    
    /* 边框色 */
    --color-border: #eaeaea;
    --color-border-hover: #cccccc;
    --color-border-strong: #999999;
    
    /* 交互色 */
    --color-primary: #111111;
    --color-primary-hover: #333333;
    --color-accent: #0066ff;
    --color-accent-hover: #0052cc;
    
    /* 状态色 */
    --color-success: #10b981;
    --color-warning: #f59e0b;
    --color-error: #ef4444;
    
    /* 遮罩与阴影 */
    --color-overlay: rgba(0, 0, 0, 0.5);
    --color-shadow: rgba(0, 0, 0, 0.1);
    --color-shadow-light: rgba(0, 0, 0, 0.05);
    
    /* 特殊背景（用于深色区块） */
    --color-dark-bg: #111111;
    --color-dark-bg-subtle: #1a1a1a;
    --color-dark-text: #ffffff;
    --color-dark-text-muted: #888888;
    --color-dark-border: #333333;
    
    /* ----------------------------------------
       SPACING TOKENS - 间距
       ---------------------------------------- */
    --space-xs: 4px;
    --space-sm: 8px;
    --space-md: 16px;
    --space-lg: 24px;
    --space-xl: 32px;
    --space-2xl: 48px;
    --space-3xl: 64px;
    --space-4xl: 80px;
    --space-section: 120px;

    /* ----------------------------------------
       RADIUS TOKENS - 圆角
       ---------------------------------------- */
    --radius-sm: 4px;
    --radius-md: 8px;
    --radius-lg: 16px;
    --radius-xl: 24px;
    --radius-full: 9999px;

    /* ----------------------------------------
       SHADOW TOKENS - 阴影
       ---------------------------------------- */
    --shadow-sm: 0 1px 2px var(--color-shadow-light);
    --shadow-md: 0 4px 6px -1px var(--color-shadow-light), 0 2px 4px -1px var(--color-shadow-light);
    --shadow-lg: 0 10px 15px -3px var(--color-shadow-light), 0 4px 6px -2px var(--color-shadow-light);
    --shadow-xl: 0 20px 25px -5px var(--color-shadow), 0 10px 10px -5px var(--color-shadow-light);
    --shadow-hover: 0 20px 40px -10px var(--color-shadow);

    /* ----------------------------------------
       LINE HEIGHT TOKENS - 行高
       ---------------------------------------- */
    --line-height-tight: 1.1;
    --line-height-snug: 1.3;
    --line-height-base: 1.6;
    --line-height-relaxed: 1.8;
    
    /* ----------------------------------------
       FONT SIZE TOKENS - 字体大小
       ---------------------------------------- */
    --text-display: clamp(3.5rem, 12vw, 9rem);
    --text-page-title: clamp(2.5rem, 6vw, 4.5rem);
    --text-hero-title: clamp(2rem, 5vw, 3.5rem);
    --text-h1: clamp(2.5rem, 8vw, 5.5rem);
    --text-h2: clamp(1.8rem, 4vw, 3.5rem);
    --text-h3: clamp(1.3rem, 3vw, 2.5rem);
    --text-body-lg: clamp(1.1rem, 2vw, 1.6rem);
    --text-body: 1rem;
    --text-sm: 0.875rem;
    --text-xs: 0.75rem;

    /* ----------------------------------------
       TRANSITION TOKENS - 过渡
       ---------------------------------------- */
    --transition-fast: 150ms ease;
    --transition-base: 200ms ease;
    --transition-slow: 300ms ease;
    --transition-theme: 400ms ease;

    /* ----------------------------------------
       BREAKPOINT TOKENS - 响应式断点
       用于 JS 中的断点判断，CSS 媒体查询使用下方定义
       ---------------------------------------- */
    --breakpoint-xs: 480px;
    --breakpoint-sm: 640px;
    --breakpoint-md: 768px;
    --breakpoint-lg: 1024px;
    --breakpoint-xl: 1280px;
    --breakpoint-2xl: 1536px;

    /* ----------------------------------------
       RESPONSIVE SPACING - 响应式间距
       ---------------------------------------- */
    --space-page-x: clamp(20px, 5vw, 120px);
    --space-page-y: clamp(60px, 10vh, 120px);
    --space-section-y: clamp(60px, 12vh, 140px);

    /* ----------------------------------------
       RESPONSIVE LAYOUT - 响应式布局
       ---------------------------------------- */
    --nav-height: 80px;
    --nav-height-mobile: 64px;
  }

  /* ========================================
     DARK THEME - 暗色主题
     ======================================== */
  [data-theme='dark'] {
    /* 背景色 */
    --color-bg: #0a0a0a;
    --color-bg-subtle: #111111;
    --color-bg-alt: #1a1a1a;
    --color-bg-elevated: #1f1f1f;
    --color-bg-inverse: #ffffff;
    
    /* 表面色 */
    --color-surface: #1a1a1a;
    --color-surface-hover: #222222;
    --color-surface-active: #2a2a2a;
    
    /* 文字色 */
    --color-text-main: #f5f5f5;
    --color-text-secondary: #cccccc;
    --color-text-muted: #999999;
    --color-text-light: #666666;
    --color-text-inverse: #111111;
    
    /* 边框色 */
    --color-border: #2a2a2a;
    --color-border-hover: #444444;
    --color-border-strong: #666666;
    
    /* 交互色 */
    --color-primary: #ffffff;
    --color-primary-hover: #e0e0e0;
    --color-accent: #3b82f6;
    --color-accent-hover: #60a5fa;
    
    /* 遮罩与阴影 */
    --color-overlay: rgba(0, 0, 0, 0.7);
    --color-shadow: rgba(0, 0, 0, 0.4);
    --color-shadow-light: rgba(0, 0, 0, 0.2);
    
    /* 特殊背景（用于原本的深色区块，在暗色主题下保持或稍微调整） */
    --color-dark-bg: #0a0a0a;
    --color-dark-bg-subtle: #111111;
    --color-dark-text: #f5f5f5;
    --color-dark-text-muted: #888888;
    --color-dark-border: #2a2a2a;
  }

  /* ========================================
     LENIS SMOOTH SCROLL - 平滑滚动
     ======================================== */
  html.lenis, html.lenis body {
    height: auto;
  }

  .lenis.lenis-smooth {
    scroll-behavior: auto !important;
  }

  .lenis.lenis-smooth [data-lenis-prevent] {
    overscroll-behavior: contain;
  }

  .lenis.lenis-stopped {
    overflow: hidden;
  }

  .lenis.lenis-smooth iframe {
    pointer-events: none;
  }

  /* ========================================
     BASE STYLES - 基础样式
     ======================================== */
  
  a {
    font-weight: 500;
    color: inherit;
    text-decoration: inherit;
  }
  
  a:hover {
    color: inherit;
  }
  
  body {
    margin: 0;
    display: flex;
    place-items: center;
    min-width: 320px;
    min-height: 100vh;
    background-color: var(--color-bg);
    color: var(--color-text-main);
    transition: background-color var(--transition-theme), color var(--transition-theme);
  }
  
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-serif);
    line-height: var(--line-height-tight);
    text-wrap: balance;
  }
  
  p {
    max-width: 65ch;
    line-height: var(--line-height-base);
  }
  
  #root {
    width: 100%;
    margin: 0 auto;
  }
  
  /* ========================================
     UTILITY CLASSES - 工具类
     ======================================== */
  .font-serif { font-family: var(--font-serif); }
  .font-sans { font-family: var(--font-sans); }
  .text-balance { text-wrap: balance; }
  .max-w-prose { max-width: 65ch; }
  
  .glass-panel {
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.5);
    box-shadow: var(--shadow-sm);
  }
  
  [data-theme='dark'] .glass-panel {
    background: rgba(30, 30, 30, 0.7);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }
  
  .noise-bg {
    position: relative;
  }
  
  .noise-bg::before {
    content: "";
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
    pointer-events: none;
    z-index: -1;
  }

  /* Pill Button */
  .pill-button {
    padding: 12px 30px;
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-full);
    font-size: 1em;
    cursor: pointer;
    transition: all var(--transition-base);
    color: var(--color-text-muted);
  }

  .pill-button:hover {
    border-color: var(--color-text-main);
    color: var(--color-text-main);
    background-color: var(--color-surface-hover);
  }

  /* Theme transition for common elements */
  *, *::before, *::after {
    transition: background-color var(--transition-theme), 
                border-color var(--transition-theme),
                box-shadow var(--transition-theme);
  }

  /* Exclude transitions for elements that need instant response */
  button, a, input, textarea, select {
    transition: background-color var(--transition-fast), 
                border-color var(--transition-fast),
                color var(--transition-fast),
                box-shadow var(--transition-fast),
                transform var(--transition-fast);
  }

  /* ========================================
     VIEW TRANSITIONS - 视图过渡动画（主题切换圆点扩散效果）
     ======================================== */
  
  /* 启用 View Transitions - 性能优化 */
  ::view-transition-old(root),
  ::view-transition-new(root) {
    animation: none;
    mix-blend-mode: normal;
    /* GPU 加速 */
    will-change: clip-path;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    transform: translateZ(0);
  }

  /* 旧视图（切换前的内容）保持可见 */
  ::view-transition-old(root) {
    z-index: 1;
  }

  /* 新视图（切换后的内容）在上层，使用 clip-path 扩散 */
  ::view-transition-new(root) {
    z-index: 9999;
  }

  /* 视图过渡容器优化 */
  ::view-transition-group(root) {
    animation-duration: 0s;
  }

  /* 在过渡期间禁用所有 CSS transition，大幅提升性能 */
  html:has(::view-transition) *,
  html:has(::view-transition) *::before,
  html:has(::view-transition) *::after {
    transition: none !important;
    animation-play-state: paused !important;
  }

  /* ========================================
     RESPONSIVE UTILITIES - 响应式工具类
     ======================================== */
  
  /* 隐藏类 - 根据断点显示/隐藏 */
  .hide-mobile { display: block; }
  .hide-desktop { display: none; }
  .show-mobile { display: none; }
  .show-desktop { display: block; }

  /* ========================================
     RESPONSIVE BREAKPOINTS - 响应式断点媒体查询
     ======================================== */

  /* Extra Small (< 480px) - 小手机 */
  @media (max-width: 479px) {
    :root {
      --nav-height: 56px;
      --space-page-x: 16px;
    }
  }

  /* Small (480px - 767px) - 大手机/小平板 */
  @media (max-width: 767px) {
    :root {
      --nav-height: var(--nav-height-mobile);
    }
    
    .hide-mobile { display: none !important; }
    .show-mobile { display: block !important; }
    
    /* 移动端字体调整 */
    h1 { font-size: clamp(2rem, 10vw, 3rem); }
    h2 { font-size: clamp(1.5rem, 6vw, 2rem); }
  }

  /* Medium (768px - 1023px) - 平板 */
  @media (min-width: 768px) and (max-width: 1023px) {
    :root {
      --space-page-x: clamp(32px, 5vw, 60px);
    }
  }

  /* Large (1024px+) - 桌面 */
  @media (min-width: 1024px) {
    .hide-desktop { display: none !important; }
    .show-desktop { display: block !important; }
  }

  /* ========================================
     RESPONSIVE GRID UTILITIES - 响应式网格
     ======================================== */
  
  .responsive-grid {
    display: grid;
    gap: var(--space-lg);
    grid-template-columns: 1fr;
  }

  @media (min-width: 640px) {
    .responsive-grid { grid-template-columns: repeat(2, 1fr); }
    .responsive-grid-3 { grid-template-columns: repeat(2, 1fr); }
  }

  @media (min-width: 1024px) {
    .responsive-grid { grid-template-columns: repeat(3, 1fr); }
    .responsive-grid-3 { grid-template-columns: repeat(3, 1fr); }
    .responsive-grid-4 { grid-template-columns: repeat(4, 1fr); }
  }

  /* ========================================
     RESPONSIVE FLEX UTILITIES - 响应式弹性布局
     ======================================== */
  
  .responsive-flex {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-md);
  }

  .responsive-flex-center {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-md);
    justify-content: center;
    align-items: center;
  }

  /* 移动端垂直堆叠 */
  @media (max-width: 767px) {
    .responsive-stack {
      flex-direction: column;
    }
  }

  /* ========================================
     TOUCH DEVICE OPTIMIZATIONS - 触屏优化
     ======================================== */
  
  @media (hover: none) and (pointer: coarse) {
    /* 增大触摸目标 */
    button, a, [role="button"] {
      min-height: 44px;
      min-width: 44px;
    }
    
    /* 禁用悬停效果 */
    .hover-effect:hover {
      transform: none;
    }
  }

  /* ========================================
     SAFE AREA INSETS - 安全区域（刘海屏等）
     ======================================== */
  
  @supports (padding: max(0px)) {
    .safe-area-inset {
      padding-left: max(var(--space-page-x), env(safe-area-inset-left));
      padding-right: max(var(--space-page-x), env(safe-area-inset-right));
      padding-bottom: max(var(--space-md), env(safe-area-inset-bottom));
    }
  }
